{% extends "base.html" %}
{% block html_lang %}{{ article.lang }}{% endblock %}

{% block head %}
  {{ super() }}

  {% import 'translations.html' as translations with context %}
  {% if translations.entry_hreflang(article) %}
    {{ translations.entry_hreflang(article) }}
  {% endif %}

  {% if article.description %}
    <meta name="description" content="{{article.description}}" />
  {% endif %}

  {% for tag in article.tags %}
    <meta name="tags" content="{{tag}}" />
  {% endfor %}

{% endblock %}

{% block content %}
{% if article.image is defined %}
<div id="imagemodal" class="modal">
  <div class="modal-background" onclick="imagehide()"></div>
  <div class="modal-content">
    <p class="image">
    <img src="{{ SITEURL }}/theme/images/articles/{{ article.image }}" alt="{{ article.title }}" title="{{ article.title }}, {{ article.description }}" width="640" height="640">
    </p>
  </div>
  <button onclick="imagehide()" class="modal-close is-large" aria-label="close"></button>
</div>
{% endif %}
<section id="content" class="section">
  <div class="container">
    <div class="column is-three-fifths" style="{% if article.image is defined %}background-image:radial-gradient(#0002,#222),url('{{ SITEURL }}/theme/images/articles/{{ article.image }}');height: 50%;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative;border:1px solid #333;border-radius:1rem;{% else %}border:1px solid #333;border-radius:1rem;background:#333;box-shadow:inset 0 0 3rem 2rem #222;{% endif %}margin-bottom:2rem">
      {% if article.image is defined %}<button onclick="imageshow()" class="button is-text icon is-medium icon"><i class="fas fa-image"></i></button>{% endif %}
      <header>
          <h2 class="title"><a href="{{ SITEURL }}/{{ article.url }}" rel="bookmark" title="Permalink to {{ article.title|striptags }}" class="article-title"><span class="icon"><i class="{% if article.icon is defined %}{{ article.icon }}{% else %}fas fa-paperclip{% endif %}"></i></span> {{ article.title }}</a><small class="subtitle"><br>â€” {{article.description}}</small></h2>
 {% import 'translations.html' as translations with context %}
 {{ translations.translations_for(article) }}
      </header>
      <br>
      <footer class="post-info">
        <p>Created: <time class="published" datetime="{{ article.date.isoformat() }}">
          {{ article.locale_date }}
        </time></p>
        {% if article.modified %}
        <p>Modified: <time class="modified" datetime="{{ article.modified.isoformat() }}">
          {{ article.locale_modified }}
        </time></p>
        {% endif %}
        {% if article.authors %}
        <address class="vcard author">
          <p>By: {% for author in article.authors %}
              <a class="tag is-primary" href="{{ SITEURL }}/{{ author.url }}">{{ author }}</a>
              {% endfor %}</p>
    </address>
    {% endif %}
    {% if article.category %}
    <div class="category">
      <p>Category: <a href="{{ SITEURL }}/{{ article.category.url }}" class="tag is-primary">{{ article.category }}</a></p>
    </div>
    {% endif %}
    {% if article.tags %}
    <div class="tags">
      <p>Tags:
        {% for tag in article.tags %}
        <a href="{{ SITEURL }}/{{ tag.url }}" class="tag is-primary">{{ tag }}</a>
        {% endfor %}
      </p>
    </div>
    {% endif %}
  </footer><!-- /.post-info -->
    </div>
  <div class="container">
    <div class="column is-three-fifths">
      <div class="content blog-content">
        {{ article.content }}
      </div>
    </div>
  </div><!-- /.entry-content -->
    </div>
  </div>
</section>
{% endblock %}
